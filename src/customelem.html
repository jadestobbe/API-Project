<link rel="import" href="@polymer/polymer/polymer.html" />

<dom-module id="custom-elem">
  <template>
    <style>
      :host {
        display: block;
      }
      h1 {
        font-size: 16px;
        line-height: 19px;
        margin: 0;
      }
      .meta {
        margin-bottom: 15px;
        font-size: 12px;
        color: #808080;
      }
      a {
        color: currentColor;
      }
      .loader {
        font-size: 10px;
        margin: 50px auto;
        text-indent: -9999em;
        width: 11em;
        height: 11em;
        border-radius: 50%;
        background: #303031;
        background: -moz-linear-gradient(left, #303031 10%, rgba(255, 255, 255, 0) 42%);
        background: -webkit-linear-gradient(left, #303031 10%, rgba(255, 255, 255, 0) 42%);
        background: -o-linear-gradient(left, #303031 10%, rgba(255, 255, 255, 0) 42%);
        background: -ms-linear-gradient(left, #303031 10%, rgba(255, 255, 255, 0) 42%);
        background: linear-gradient(to right, #303031 10%, rgba(255, 255, 255, 0) 42%);
        position: relative;
        -webkit-animation: load3 1.4s infinite linear;
        animation: load3 1.4s infinite linear;
        -webkit-transform: translateZ(0);
        -ms-transform: translateZ(0);
        transform: translateZ(0);
      }
        .loader:before {
          width: 50%;
          height: 50%;
          background: #ffffff;
          border-radius: 100% 0 0 0;
          position: absolute;
          top: 0;
          left: 0;
          content: '';
        }
        .loader:after {
          background: transparent;
          width: 75%;
          height: 75%;
          border-radius: 50%;
          content: '';
          margin: auto;
          position: absolute;
          top: 0;
          left: 0;
          bottom: 0;
          right: 0;
        }
      @-webkit-keyframes load3 {
        0% {
          -webkit-transform: rotate(0deg);
          transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
          transform: rotate(360deg);
        }
      }
      @keyframes load3 {
        0% {
          -webkit-transform: rotate(0deg);
          transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
          transform: rotate(360deg);
        }
      }
    </style>
    <h1>[[whichView]]</h1>
    <template is="dom-if" if="[[_initFinished]]">
      <template is="dom-if" if="[[_view1]]">
        <button><a href="./view2">next1</a></button>
      </template>
      <template is="dom-if" if="[[_view2]]">
        <button><a href="./view1">back2</a></button>
        <button><a href="./view3">next2</a></button>
      </template>
      <template is="dom-if" if="[[_view3]]">
        <button><a href="./view2">back3</a></button>
        <button><a href="./view1">backfurther3</a></button>
      </template>
    </template>
  </template>
  <script>
    // element registration
    Polymer({
      is: "custom-elem",
      // add properties and methods on the element's prototype
      properties: {
        // declare properties for the element's public API
        whichView:{
          type: String,
          value: "view1"
        },
        _initFinished: {
          type: Boolean,
          value: false
        },
        _view1: {
          type: Boolean,
          value: false
        },
        _view2: {
          type: Boolean,
          value: false
        },
        _view3: {
          type: Boolean,
          value: false
        }
      },
      attached: function () {
        this._initFinished = true;
        this._view1 = true;
      },
      _view: function(v){
        return v == this.whichView;
      }
    });
  </script>
</dom-module>
